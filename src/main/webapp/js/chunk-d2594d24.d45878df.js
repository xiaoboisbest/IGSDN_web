(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2594d24"],{"11fa":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{},[a("el-tabs",{attrs:{"tab-position":"right"}},[a("el-tab-pane",{attrs:{label:"个人信息"}},[a("UserCenterMessage")],1),a("el-tab-pane",{attrs:{label:"内存管理"}},[a("Memory")],1)],1)],1)])},r=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("个人资料")]),a("el-button",{staticStyle:{float:"right","font-size":"14px"},attrs:{type:"text"},on:{click:t.toUpdate}},[t._v("修改资料")])],1),a("table",{staticStyle:{"font-size":"16px",width:"100%"}},[a("tr",[a("td",{staticStyle:{width:"60px"}},[t._v("昵称：\n                ")]),a("td",{staticStyle:{width:"auto"}},[t._v(t._s(t.userInfo.uname))]),a("td",{staticStyle:{width:"30px"}})]),a("tr",[a("td",[t._v("手机：")]),a("td",{style:{color:t.userInfo.tel?"#000":"#F56C6C"}},[t._v("\n                    "+t._s(t.userInfo.tel?t.userInfo.tel:"未绑定")+"\n                ")]),a("td",[a("el-button",{attrs:{type:"primary",icon:t.userInfo.tel?"el-icon-edit":"el-icon-plus",size:"mini",circle:""},on:{click:function(e){return t.bindingUserLoginName("tel")}}})],1)]),a("tr",[a("td",[t._v("邮箱：")]),a("td",{style:{color:t.userInfo.email?"#000":"#F56C6C"}},[t._v("\n                    "+t._s(t.userInfo.email?t.userInfo.email:"未绑定")+"\n                ")]),a("td",[a("el-button",{attrs:{type:"primary",icon:t.userInfo.email?"el-icon-edit":"el-icon-plus",size:"mini",circle:""},on:{click:function(e){return t.bindingUserLoginName("email")}}})],1)]),a("tr",[a("td",[t._v("姓名：")]),a("td",[t._v(t._s(t.userInfo.name))])]),a("tr",[a("td",[t._v("年龄：")]),a("td",[t._v(t._s(t.userInfo.age))])]),a("tr",[a("td",[t._v("性别：")]),a("td",[t._v(t._s(t.userInfo.gender?"男":"女"))])])])])],1)},i=[],o=(a("fb6a"),a("7f43")),l=a.n(o),c={name:"UserCenterMessage",data:function(){return{userId:null,userInfo:{uname:"",tel:"",email:"",name:"",gender:"",age:""}}},mounted:function(){var t=this;this.userId=JSON.parse(localStorage.getItem("user_msg")).id;var e=this.userId;l.a.get("/IGSDN/genUser/selectUserInfo/"+e).then(function(e){t.userInfo.name=e.data.name,t.userInfo.uname=e.data.uname,t.userInfo.age=e.data.age,t.userInfo.gender=e.data.gender,t.userInfo.email=e.data.email,t.userInfo.tel=e.data.tel}).catch(function(){t.$message({type:"error",message:"修改失败，请检查网络连接!"})})},methods:{toUpdate:function(){this.$router.push("/genUser/changePerson")},bindingUserLoginName:function(t){var e=this,a="",n="",r="",s="",i=this.userId;"email"==t?(a="请输入邮箱",n=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/):"tel"==t&&(a="请输入手机号",n=/^1[3456789]\d{9}$/),this.$prompt(a,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:n,inputErrorMessage:"输入格式不正确"}).then(function(a){var n=a.value;console.log(n),"email"==t?s=n:"tel"==t&&(r=n),l.a.put("/IGSDN/genUser/updateLoginName",{userId:i,tel:r,email:s}).then(function(a){a.data?(e.$message({type:"success",message:"绑定成功"}),"email"==t?e.userInfo.email=n:"tel"==t&&(e.userInfo.tel=n)):e.$message({type:"error",message:"绑定失败"})}).catch(function(){e.$message({type:"error",message:"服务器错误"})})}).catch(function(){})}}},u=c,d=(a("4ac7"),a("17cc")),g=Object(d["a"])(u,s,i,!1,null,"338a0974",null),m=g.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card",staticStyle:{width:"700px",margin:"50px auto",padding:"20px"}},[a("table",{staticStyle:{float:"left",width:"50%"}},[a("tr",{staticStyle:{height:"150px"}},[a("td",{attrs:{align:"center"}},[t._v("总内存：")]),a("td",{attrs:{align:"center"}},[a("el-progress",{attrs:{type:"circle","stroke-width":10,percentage:100}})],1)]),a("tr",{staticStyle:{height:"150px"}},[a("td",{attrs:{align:"center"}},[t._v("已使用内存：")]),a("td",{attrs:{align:"center"}},[a("el-progress",{attrs:{"stroke-width":10,type:"circle",percentage:parseFloat(this.data.percentUsedMemory)}})],1)])]),a("table",{staticStyle:{float:"left",width:"50%","margin-top":"40px"}},[a("tr",{staticStyle:{height:"30px"}},[a("td",{attrs:{align:"center"}},[t._v("总内存：")]),a("td",{attrs:{align:"center"}},[t._v(t._s(t.data.totalMemory))])]),a("tr",{staticStyle:{height:"30px"}},[a("td",{attrs:{align:"center"}},[t._v("剩余内存：")]),a("td",{attrs:{align:"center"}},[t._v(t._s(t.data.remainingMemory))])]),a("tr",{staticStyle:{height:"30px"}},[a("td",{attrs:{align:"center"}},[t._v("总文件数：")]),a("td",{attrs:{align:"center"}},[t._v(t._s(t.data.documentTotal))])]),a("tr",{staticStyle:{height:"30px"}},[a("td",{attrs:{align:"center"}},[t._v("公有文档数：")]),a("td",{attrs:{align:"center"}},[t._v(t._s(t.data.publicDocumentTotal))])]),a("tr",{staticStyle:{height:"30px"}},[a("td",{attrs:{align:"center"}},[t._v("私有文档数：")]),a("td",{attrs:{align:"center"}},[t._v(t._s(t.data.privateDocumentTotal))])]),a("tr",{staticStyle:{height:"80px"}},[a("td",{attrs:{align:"center",colspan:"2"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.userUpload}},[t._v("\n                        上传新文档"),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)])])])],1)},p=[],h={name:"Memory",mounted:function(){this.userId=JSON.parse(localStorage.getItem("user_msg")).id,this.getUserMemoryInfo()},watch:{$route:function(){this.getUserMemoryInfo()}},methods:{getUserMemoryInfo:function(){var t=this;l.a.get("/IGSDN/genUser/getUserMemoryInfo/"+this.userId).then(function(e){t.data=e.data}).catch(function(){t.$message.error("服务器连接失败")})},handleSizeChange:function(t){console.log("每页 ".concat(t," 条"))},handleCurrentChange:function(t){console.log("当前页: ".concat(t))},userUpload:function(){this.$router.push("upload")},handleClick:function(t,e){console.log(t,e)}},data:function(){return{activeName:"first",userId:null,data:{percentUsedMemory:"",totalMemory:"",remainingMemory:"",documentTotal:0,publicDocumentTotal:0,privateDocumentTotal:0},currentPage1:5,currentPage2:5,currentPage3:5,currentPage4:4}}},v=h,_=(a("f4be"),Object(d["a"])(v,f,p,!1,null,"05ad873a",null)),y=_.exports,I={name:"PersonalCenter",components:{UserCenterMessage:m,Memory:y},methods:{}},b=I,x=Object(d["a"])(b,n,r,!1,null,"53b1f840",null);e["default"]=x.exports},3683:function(t,e,a){},"4ac7":function(t,e,a){"use strict";var n=a("3683"),r=a.n(n);r.a},e408:function(t,e,a){},f4be:function(t,e,a){"use strict";var n=a("e408"),r=a.n(n);r.a}}]);