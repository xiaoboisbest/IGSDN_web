(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-017d341f"],{3050:function(t,e,i){},"34f1":function(t,e,i){},"5c5d":function(t,e,i){"use strict";var n=i("34f1"),o=i.n(n);o.a},"7e0a":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoadingDocumentDetails,expression:"isLoadingDocumentDetails"}],staticStyle:{position:"absolute",left:"50%",top:"50%"}}),i("transition",{attrs:{name:"el-zoom-in-center"}},[i("el-card",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"card"},[i("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("div",{staticStyle:{float:"left","font-size":"14px",cursor:"pointer"},on:{click:t.goBack}},[i("i",{staticClass:"el-icon-arrow-left"}),t._v(" 返回上级\n                ")]),i("span",[t._v(t._s(t.document.name))])]),i("div",{staticClass:"img"},[i("img",{attrs:{src:t.document.icon}})]),i("div",{staticClass:"content"},[i("div",{staticClass:"intro"},[i("span",{staticStyle:{"font-size":"22px","font-weight":"bold"}},[t._v("简介: ")]),i("span",{staticClass:"meta",domProps:{innerHTML:t._s(t.simpleIntro)}}),t.introFlag?i("span",{staticClass:"more",on:{click:function(e){t.isShowAllIntro=!t.isShowAllIntro}}},[t._v(t._s(this.showMore))]):t._e()]),i("table",{staticClass:"meta"},[i("tr",[i("td",{staticClass:"left"},[t._v("文件类型：\n                        ")]),i("td",{staticStyle:{width:"auto"}},[t._v(t._s(t.document.formatName))])]),i("tr",[i("td",{staticClass:"left"},[t._v("文件大小：\n                        ")]),i("td",{staticStyle:{width:"auto"}},[t._v(t._s(t.document.size))])]),i("tr",[i("td",{staticClass:"left"},[t._v("上传者：\n                        ")]),i("td",{staticStyle:{width:"auto"}},[t._v(t._s(t.document.uploaderName))])]),i("tr",[i("td",{staticClass:"left"},[t._v("上传时间：\n                        ")]),i("td",{staticStyle:{width:"auto"}},[t._v(t._s(t.document.uploadTime))])]),i("tr",[i("td",{staticClass:"left"},[t._v("最后更新时间：\n                        ")]),i("td",{staticStyle:{width:"auto"}},[t._v(t._s(t.document.lastUpdateTime))])]),i("tr",[i("td",{staticClass:"left"},[t._v("下载量：\n                        ")]),i("td",{staticStyle:{width:"auto"}},[t._v(t._s(t.document.downloadNum))])]),i("tr",{staticStyle:{height:"40px"}},[i("td",{staticClass:"left",staticStyle:{width:"auto"},attrs:{colspan:"2"}},[t.document.key1?i("el-tag",{staticStyle:{"margin-right":"14px"},attrs:{type:"success"}},[t._v(t._s(t.document.key1)+"\n                            ")]):t._e(),t.document.key2?i("el-tag",{staticStyle:{"margin-right":"14px"},attrs:{type:"warning"}},[t._v(t._s(t.document.key2)+"\n                            ")]):t._e(),t.document.key3?i("el-tag",{attrs:{type:"danger"}},[t._v(t._s(t.document.key3))]):t._e()],1)])]),i("OnlinePreviewButton",{attrs:{isPrivate:t.isPrivate,documentId:t.document.id,formatName:t.document.formatName}})],1)])],1)],1)},o=[],s=(i("3050"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.preview}},[t._v("在线预览")]),t.isPrivate&&"markdown"==t.formatName?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.edit}},[t._v("在线编辑\n    ")]):t._e(),i("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:t.download}},[t._v("下载文件")])],1)}),a=[],c={name:"OnlinePreviewButton",props:["isPrivate","formatName","documentId","documentType","documentUrl"],data:function(){return{buttonText:"",isVisible:!1}},created:function(){},methods:{preview:function(){var t=this.$router.resolve({name:"documentOnlinePreview",path:"/documentOnlinePreview",query:{documentId:this.documentId,documentType:this.documentType,documentUrl:this.documentUrl}}),e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;i=5*i/6,e=5*e/6,window.open(t.href,"_blank","height="+i+",width="+e+",top=80,left=80,toolbar=no, menubar=no, scrollbars=yes, resizable=yes")},edit:function(){this.$router.push({name:"MarkdownEditor",params:{documentId:this.documentId}})},download:function(){}}},r=c,d=i("17cc"),l=Object(d["a"])(r,s,a,!1,null,"867c77d8",null),u=l.exports,m=i("7f43"),h=i.n(m),p={components:{OnlinePreviewButton:u},data:function(){return{isPrivate:!1,isShow:!1,isLoadingDocumentDetails:!0,isShowAllIntro:!1,introFlag:!0,document:{},documentInit:{id:1,name:"",size:"",uploadTime:"",lastUpdateTime:"",icon:"",key1:"",key2:"",key3:"",formatId:0,formatName:"",uploaderName:"",intro:"",downloadNum:0}}},methods:{goBack:function(){this.$router.go(-1)},getDocumentDetails:function(){var t=this;this.isLoadingDocumentDetails=!0,h.a.get("/IGSDN/getDocumentDetails/"+this.document.id).then(function(e){t.isShow=!0,t.document=e.data,t.document.icon?t.document.icon="data:image/jpg;base64,"+t.document.icon:t.document.icon=localStorage.getItem("icon-"+t.document.formatId),t.isLoadingDocumentDetails=!1}).catch(function(e){t.isLoadingDocumentDetails=!1,console.log(e)})}},created:function(){this.isShow=!1,this.document=this.documentInit,this.document.id=this.$route.params.documentId,this.isPrivate=this.$route.params.isPrivate,this.getDocumentDetails()},watch:{$route:function(){this.isShow=!1,this.document=this.documentInit,this.document.id=this.$route.params.documentId,this.isPrivate=this.$route.params.isPrivate,this.getDocumentDetails()}},computed:{simpleIntro:function(){if(this.isShowAllIntro)return this.document.intro;var t=this.document.intro;return this.introFlag=t.length>160,t=this.introFlag?t.substring(0,160)+"...":t,t},showMore:function(){return this.isShowAllIntro?"关闭":"展开"}}},v=p,f=(i("5c5d"),Object(d["a"])(v,n,o,!1,null,"97f05fda",null));e["default"]=f.exports}}]);