(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21eb57"],{d75c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"50px 50px"}},[a("el-card",{staticClass:"box-card"},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal","active-text-color":"#606266"},on:{select:t.handleSelect}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{slot:"title"},[t._v("未读")]),a("el-menu-item",{attrs:{index:"1-1"}},[t._v("系统通知")]),a("el-menu-item",{attrs:{index:"1-2"}},[t._v("评论")])],2),a("el-submenu",{attrs:{index:"2"}},[a("template",{slot:"title"},[t._v("已读")]),a("el-menu-item",{attrs:{index:"2-1"}},[t._v("系统通知")]),a("el-menu-item",{attrs:{index:"2-2"}},[t._v("评论")])],2),a("el-submenu",{attrs:{index:"3"}},[a("template",{slot:"title"},[t._v("垃圾箱")]),a("el-menu-item",{attrs:{index:"3-1"}},[t._v("系统通知")]),a("el-menu-item",{attrs:{index:"3-2"}},[t._v("评论")])],2)],1),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"日期",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-time"}),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.date))])]}}])}),a("el-table-column",{attrs:{label:"姓名",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v("姓名: "+t._s(e.row.name))]),a("p",[t._v("住址: "+t._s(e.row.address))]),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[t._v(t._s(e.row.name))])],1)])]}}])}),a("el-table-column",{attrs:{label:"文件",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("i",{staticClass:"el-icon-tickets"}),a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.document))])]}}])}),t._v("\n                document\n\n                "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("回复\n                        ")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!("3-1"===t.showDel||"3-2"===t.showDel),expression:"!(showDel==='3-1'||showDel==='3-2')"}],attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleRemove(e.$index,e.row)}}},[t._v("删除\n                        ")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"3-1"===t.showDel||"3-2"===t.showDel,expression:"showDel==='3-1'||showDel==='3-2'"}],attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("彻底删除\n                        ")])]}}])})],1)]],2),a("el-dialog",{attrs:{visible:t.dialogFormVisible,title:"回复"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-card",{staticClass:"box-card"},[a("el-form-item",{attrs:{label:t.form.name}},[t._v("\n                    "+t._s(t.form.date)),a("br"),t._v("\n                    "+t._s(t.form.message)+"\n                ")]),a("el-input",{model:{value:t.form.reMessage,callback:function(e){t.$set(t.form,"reMessage",e)},expression:"form.reMessage"}}),a("p",{directives:[{name:"show",rawName:"v-show",value:t.showError,expression:"showError"}],staticStyle:{"font-size":"18px",color:"red"}},[t._v("输入内容不能为空,不能超过50个字")])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.dialogSubmit}},[t._v("确 定")])],1)],1)],1)},i=[],n=(a("3a23"),a("ea65"),a("48fb"),a("7f43")),l=a.n(n),o={mounted:function(){var t=this;this.handleSelect("1-1",null);var e="3";l.a.get("/IGSDN/genUser/userInformation/"+e).then(function(e){t.data=e.data,console.log(t.data)}).catch(function(t){console.log(t)})},data:function(){return{index:"",showError:!1,remark_content:"",showDel:"",activeIndex:"1-1",data:[{}],tableData:[],dialogFormVisible:!1,form:{date:"",name:"",message:"",reMessage:""},formLabelWidth:"120px"}},computed:function(){var t=this.showDel.splice("-");if(3===t[0])return!0},methods:{handleSelect:function(t,e){this.showDel=t,console.log(t,e);var a=t.toString(),s=a.split("-");switch(s[0]){case"1":s.shift(),1===s[0]?this.tableData=this.data.filter(function(t){return"系统通知"===t.name&&0===t.state}):2===s[0]&&(this.tableData=this.data.filter(function(t){return"系统通知"!==t.name&&0===t.state}));break;case"2":s.shift(),1==s[0]?this.tableData=this.data.filter(function(t){return"系统通知"===t.name&&1===t.state}):2==s[0]&&(this.tableData=this.data.filter(function(t){return"系统通知"!==t.name&&1===t.state}));break;case"3":s.shift(),1==s[0]?this.tableData=this.data.filter(function(t){return"系统通知"===t.name&&2===t.state}):2==s[0]&&(this.tableData=this.data.filter(function(t){return"系统通知"!==t.name&&2===t.state}));break}},handleRemove:function(t,e){console.log(t,e),this.tableData[t].isRead=!0,0!==this.tableData[t].state&&1!==this.tableData[t].state||(this.tableData[t].state=2,this.tableData.splice(t,1))},handleEdit:function(t,e){this.dialogFormVisible=!0,this.index=t,this.tableData[t].isRead=!0,this.form.name=e.name,this.form.message=e.message,this.form.date=e.date},handleDelete:function(t,e){},open:function(){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$message({type:"success",message:"删除成功!"})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},dialogSubmit:function(){(this.form.reMessage.trim().length>50||0===this.form.reMessage.trim().length)&&(this.showError=!0),0===this.tableData[this.index].state&&(this.tableData[this.index].state=1,this.tableData.splice(this.index,1)),this.dialogFormVisible=!1}}},r=o,c=a("17cc"),m=Object(c["a"])(r,s,i,!1,null,"61afac64",null);e["default"]=m.exports}}]);