(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7dd2b7cc"],{"0ec7":function(t,i,e){(function(t){(function(e,n){"use strict";var o={};e.PubSub=o;var s=e.define;n(o),"function"===typeof s&&s.amd?s(function(){return o}):(void 0!==t&&t.exports&&(i=t.exports=o),i.PubSub=o,t.exports=i=o)})("object"===typeof window&&window||this,function(t){"use strict";var i={},e=-1;function n(t){var i;for(i in t)if(t.hasOwnProperty(i))return!0;return!1}function o(t){return function(){throw t}}function s(t,i,e){try{t(i,e)}catch(n){setTimeout(o(n),0)}}function a(t,i,e){t(i,e)}function r(t,e,n,o){var r,c=i[e],u=o?a:s;if(i.hasOwnProperty(e))for(r in c)c.hasOwnProperty(r)&&u(c[r],t,n)}function c(t,i,e){return function(){var n=String(t),o=n.lastIndexOf(".");r(t,t,i,e);while(-1!==o)n=n.substr(0,o),o=n.lastIndexOf("."),r(t,n,i,e)}}function u(t){var e=String(t),o=Boolean(i.hasOwnProperty(e)&&n(i[e])),s=e.lastIndexOf(".");while(!o&&-1!==s)e=e.substr(0,s),s=e.lastIndexOf("."),o=Boolean(i.hasOwnProperty(e)&&n(i[e]));return o}function l(t,i,e,n){t="symbol"===typeof t?t.toString():t;var o=c(t,i,n),s=u(t);return!!s&&(!0===e?o():setTimeout(o,0),!0)}t.publish=function(i,e){return l(i,e,!1,t.immediateExceptions)},t.publishSync=function(i,e){return l(i,e,!0,t.immediateExceptions)},t.subscribe=function(t,n){if("function"!==typeof n)return!1;t="symbol"===typeof t?t.toString():t,i.hasOwnProperty(t)||(i[t]={});var o="uid_"+String(++e);return i[t][o]=n,o},t.subscribeOnce=function(i,e){var n=t.subscribe(i,function(){t.unsubscribe(n),e.apply(this,arguments)});return t},t.clearAllSubscriptions=function(){i={}},t.clearSubscriptions=function(t){var e;for(e in i)i.hasOwnProperty(e)&&0===e.indexOf(t)&&delete i[e]},t.unsubscribe=function(e){var n,o,s,a=function(t){var e;for(e in i)if(i.hasOwnProperty(e)&&0===e.indexOf(t))return!0;return!1},r="string"===typeof e&&(i.hasOwnProperty(e)||a(e)),c=!r&&"string"===typeof e,u="function"===typeof e,l=!1;if(!r){for(n in i)if(i.hasOwnProperty(n)){if(o=i[n],c&&o[e]){delete o[e],l=e;break}if(u)for(s in o)o.hasOwnProperty(s)&&o[s]===e&&(delete o[s],l=!0)}return l}t.clearSubscriptions(e)}})}).call(this,e("35d1")(t))},"0f72":function(t,i,e){},"1c45":function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticStyle:{cursor:"pointer"}},[e("div",{staticStyle:{"margin-bottom":"5px"}},[e("div",{staticClass:"img"},[e("img",{attrs:{src:t.icon?t.icon:""}})]),e("div",{staticStyle:{width:"auto",float:"left"}},[e("div",[e("a",{staticClass:"title",domProps:{innerHTML:t._s(t.document.name)},on:{click:t.openDocumentDetails}}),t.isPrivate&&t.isPublic?e("el-tag",[t._v("公有")]):t._e(),t.isPrivate&&!t.isPublic?e("el-tag",{attrs:{type:"danger"}},[t._v("私有")]):t._e()],1),t.isPrivate?e("div",{staticStyle:{float:"right"}},[e("el-button",{attrs:{size:"mini",plain:""},on:{click:t.editItem}},[t._v("编辑")]),e("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:t.deleteItem}},[t._v("删除")])],1):t._e(),e("div",{staticClass:"intro",domProps:{innerHTML:t._s(t.document.intro)}}),e("div",{staticClass:"information"},[t._v("\n                上传者："+t._s(t.document.uploaderName)+" | 文件大小："+t._s(t.document.size)+" | 上传时间："+t._s(t.document.uploadTime)+" | 最近修改时间："+t._s(t.document.lastUpdateTime)+" | 下载量："+t._s(t.document.downloadNum)+"\n            ")])])]),e("hr",{staticStyle:{"background-color":"#DCDFE6",border:"none",height:"1px"}})])},o=[],s=e("7f43"),a=e.n(s),r=e("0ec7"),c=e.n(r),u={props:["document","isPrivate","isPublic"],data:function(){return{icon:""}},created:function(){var t=this,i=localStorage.getItem("icon-"+this.document.icon);i?this.icon=i:a.a.get("/IGSDN/getDocumentFormatIcon/"+this.document.icon).then(function(i){t.icon="data:image/jpg;base64,"+i.data,localStorage.setItem("icon-"+t.document.icon,t.icon)}).catch(function(t){})},methods:{openDocumentDetails:function(){this.$router.push({name:"documentDetails",params:{documentId:this.document.id,isPrivate:this.isPrivate}})},deleteItem:function(){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i=t.document.id;return a.a.delete("/IGSDN/deleteDocument/"+i).then(function(i){i.data&&(t.$message({type:"success",message:"删除成功!"}),c.a.publish("deleteDocument",!0))}),!0}).catch(function(){return!1})},editItem:function(){this.$router.push({name:"editDocumentDetails",query:{documentId:this.document.id}})}}},l=u,d=(e("ae8c"),e("17cc")),h=Object(d["a"])(l,n,o,!1,null,"9086571c",null);i["a"]=h.exports},3050:function(t,i,e){},"35d1":function(t,i){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"502b":function(t,i,e){},6646:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticStyle:{width:"auto",display:"inline",float:"left"}},[e("transition",{attrs:{name:"el-zoom-in-center"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.categoryId&&t.isShowTips,expression:"!categoryId && isShowTips"}],staticClass:"tips"},[e("span",{staticClass:"close",on:{click:function(i){return t.handleShowTips()}}},[e("i",{staticClass:"el-icon-close"})]),e("span",[t._v("下拉到底部，以加载更多推荐内容")])])]),e("el-card",{staticStyle:{"min-width":"600px"}},[t._l(t.documentList,function(t){return e("KnowledgeItem",{staticStyle:{margin:"0 20px 20px 0",width:"auto",display:"inline"},attrs:{document:t,isPrivate:!1}})}),e("div",{staticStyle:{width:"100%","text-align":"center",margin:"10px",color:"#909399"},style:t.msgStyle,on:{click:function(i){return t.loadData(!0)}}},[e("i",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"el-icon-loading"}),t._v("\n                "+t._s(t.msg)+"\n            ")])],2)],1),e("CategoryIntro",{directives:[{name:"show",rawName:"v-show",value:t.categoryId,expression:"categoryId"}],attrs:{categoryId:t.categoryId}})],1)},o=[],s=(e("3050"),e("8ae3")),a=e("1c45"),r=e("7f43"),c=e.n(r),u={name:"KnowledgeScroller",components:{CategoryIntro:s["a"],KnowledgeItem:a["a"]},props:["isScrolling","categoryId","changeFlag"],data:function(){return{isShowTips:!1,isFirstLoading:!0,loadingCategoryFlag:!0,currentPage:1,pageSize:10,isLoading:!1,isLast:!1,userId:0,isSuccess:!0,documentList:[]}},mounted:function(){this.userId=JSON.parse(localStorage.getItem("user_msg")).id,this.init()},watch:{isScrolling:function(){this.loadData(this.isScrolling)},changeFlag:function(){this.init()}},computed:{msg:function(){return this.isSuccess?this.isLast?"暂无更多数据":this.isLoading?"正在加载...":"下拉加载更多":"数据加载失败，请尝试刷新页面..."},msgStyle:function(){return this.isLoading||this.isLast?"":"cursor: pointer"}},methods:{init:function(){this.isShowTips=!1,this.isFirstLoading=!0,this.loadingCategoryFlag=!0,this.currentPage=1,this.pageSize=10,this.isLoading=!1,this.isLast=!1,this.documentList=[],this.loadingCategoryFlag=!this.loadingCategoryFlag,this.isSuccess=!0,this.loadData(!0)},listDocumentByScroll:function(){var t=this,i=this.userId,e=this.currentPage,n=this.pageSize,o=this.categoryId;c.a.post("/IGSDN/listDocumentByScroll",{userId:i,categoryId:o,currentPage:e,pageSize:n}).then(function(i){t.success=!0,t.documentList=t.documentList.concat(i.data),t.isLoading=!1,t.isFirstLoading=!1,t.currentPage+=1,i.data.length<n&&(t.isLast=!0),t.$emit("loadingFlag",!t.isLoading&&!t.isLast)}).catch(function(i){t.isSuccess=!1,t.isLoading=!1,t.isFirstLoading=!1})},loadData:function(t){this.isFirstLoading&&(this.isShowTips=!0),!t||this.isLoading||this.isLast||(this.isLoading=!0,this.listDocumentByScroll())},handleShowTips:function(){this.isShowTips=!this.isShowTips}}},l=u,d=(e("d6b1"),e("17cc")),h=Object(d["a"])(l,n,o,!1,null,"b1ff7d58",null);i["a"]=h.exports},"8ae3":function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("transition",{attrs:{name:"intro-box"}},[t.isShowCategoryIntro?e("div",{staticClass:"right intro"},[e("el-card",[e("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.category.intro,expression:"!category.intro"}],staticStyle:{margin:"10px auto"}}),e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v(t._s(t.category.name))])]),e("div",{staticStyle:{margin:"5px","font-size":"14px","max-height":"400px","overflow-y":"auto"}},[e("div",{staticStyle:{color:"#606266"},domProps:{innerHTML:t._s(t.category.intro)}})])])],1):t._e()]),e("span",{staticClass:"right icon",on:{click:function(i){t.isShowCategoryIntro=!t.isShowCategoryIntro}}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.isShowCategoryIntro?"收起":"展开",placement:"left"}},[e("i",{class:t.isShowCategoryIntro?"el-icon-arrow-right":"el-icon-arrow-left",staticStyle:{margin:"10px"}})])],1)],1)},o=[],s=(e("c30b"),e("7f43")),a=e.n(s),r={name:"CategoryIntro",props:["categoryId"],data:function(){return{isShowCategoryIntro:!1,category:{id:0,name:"",intro:""}}},mounted:function(){this.isShowCategoryIntro=!1,this.getCategoryIntro()},watch:{categoryId:function(){this.isShowCategoryIntro=!1,this.getCategoryIntro()}},methods:{getCategoryIntro:function(){var t=this;this.categoryId&&0!=this.categoryId&&a.a.get("/IGSDN/getCategoryIntro/"+this.categoryId).then(function(i){t.category=i.data,t.categoryIntroRender(),t.isShowCategoryIntro=!0}).catch(function(t){console.log(t)})},categoryIntroRender:function(){var t=this.category.intro.split("<br>"),i="";for(var e in t)i+="<p style='text-indent:2em;'>"+t[e]+"</p>";this.category.intro=i}}},c=r,u=(e("ae97"),e("17cc")),l=Object(u["a"])(c,n,o,!1,null,"73b1033e",null);i["a"]=l.exports},"9fea":function(t,i,e){},ae8c:function(t,i,e){"use strict";var n=e("9fea"),o=e.n(n);o.a},ae97:function(t,i,e){"use strict";var n=e("502b"),o=e.n(n);o.a},d6b1:function(t,i,e){"use strict";var n=e("0f72"),o=e.n(n);o.a}}]);