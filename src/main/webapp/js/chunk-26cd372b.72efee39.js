(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26cd372b"],{7243:function(t,n,e){},b916:function(t,n,e){"use strict";var i=e("7243"),o=e.n(i);o.a},db64:function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"container"},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:0!=t.documentId&&t.isContentLoading,expression:"documentId!=0 && isContentLoading"}],staticStyle:{margin:"0 auto"}}),e("mavon-editor",{ref:"md",staticStyle:{"min-height":"600px"},attrs:{toolbars:t.toolbars},on:{change:t.change},model:{value:t.content,callback:function(n){t.content=n},expression:"content"}}),0!=t.documentId&&t.content?e("el-button",{staticClass:"editor-btn",attrs:{type:"primary",loading:t.isUpdateLoading},on:{click:t.submit}},[t._v(t._s(t.submitButtonText)+"\n        ")]):t._e()],1)])},o=[],a=e("7f43"),s=e.n(a),d=e("6657"),c=(e("cc71"),{name:"MarkdownEditor",data:function(){return{isContentLoading:!0,isUpdateLoading:!1,documentId:0,content:"",html:"",toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!1,code:!0,table:!0,subfield:!0,fullscreen:!1,readmodel:!1,htmlcode:!0,help:!1}}},components:{mavonEditor:d["mavonEditor"]},mounted:function(){var t=this.$route.params.documentId;t&&(this.documentId=t,this.isContentLoading=!0,this.isUpdateLoading=!1,this.init())},watch:{$route:function(){var t=this.$route.params.documentId;t&&(this.documentId=t,this.isContentLoading=!0,this.isUpdateLoading=!1,this.init())}},computed:{submitButtonText:function(){return this.isUpdateLoading?"提交中":"提交"}},methods:{init:function(){var t=this;this.documentId&&0!=this.documentId&&s.a.get("/IGSDN/getMarkdownContent/"+this.documentId).then(function(n){t.content=n.data,t.isContentLoading=!1}).catch(function(n){t.$message.error("抱歉，加载失败！")})},change:function(t,n){this.html=n},submit:function(){var t=this;if(!this.isUpdateLoading){this.isUpdateLoading=!0;var n=this.content;s.a.put("/IGSDN/updateMarkdownContent/"+this.documentId,{content:n}).then(function(n){t.isUpdateLoading=!1,n.data?t.$message.success("提交成功！"):t.$message.error("提交失败！")}).catch(function(n){t.isUpdateLoading=!1,t.$message.error("提交失败！")})}}}}),r=c,u=(e("b916"),e("17cc")),m=Object(u["a"])(r,i,o,!1,null,"148e1b4c",null);n["default"]=m.exports}}]);